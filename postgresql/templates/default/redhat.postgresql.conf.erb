# Generated by Chef, do not edit
<% pg_config = node[:postgresql][:config] -%>

datestyle = 'iso, mdy'
default_text_search_config = 'pg_catalog.english'
listen_addresses = '<%= pg_config[:listen_addresses].join(',') %>'
log_min_duration_statement = <%= pg_config[:log_min_duration_statement] %>
max_connections = 100
shared_buffers = <%= pg_config[:shared_buffers] %>
wal_keep_segments = <%= pg_config[:wal_keep_segments] %>

logging_collector = on             # Enable capturing of stderr and csvlog
log_directory = 'pg_log'           # directory where log files are written,
log_filename = 'postgresql-%a.log' # log file name pattern,
log_truncate_on_rotation = on      # If on, an existing log file of the
log_rotation_age = 1d              # Automatic rotation of logfiles will
log_rotation_size = 0              # Automatic rotation of logfiles will
lc_messages = 'en_US.UTF-8'        # locale for system error message
lc_monetary = 'en_US.UTF-8'        # locale for monetary formatting
lc_numeric = 'en_US.UTF-8'         # locale for number formatting
lc_time = 'en_US.UTF-8'            # locale for time formatting

wal_level                  = <%= pg_config[:wal_level] %>
archive_timeout            = <%= pg_config[:archive_timeout] %>
max_wal_senders            = <%= pg_config[:max_wal_senders] %>
hot_standby                = <%= pg_config[:hot_standby] %>

<% if node[:postgresql][:version].to_f >= 9.1 -%>
max_pred_locks_per_transaction = <%= pg_config[:max_pred_locks_per_transaction] %>
<% end -%>
